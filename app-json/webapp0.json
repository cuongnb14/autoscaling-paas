{
    "id": "%(username)s.%(app_name)s",
    "cpus": 0.5,
    "mem": 128,
    "instances": 1,
    "container": {
        "type": "DOCKER",
        "docker": {
            "image": "eboraas/apache",
            "network": "BRIDGE",
            "portMappings": [{
                "containerPort": 80,
                "hostPort": 0,
                "servicePort": %(service_port)d,
                "protocol": "tcp"
            }],
            "parameters": [
                { "key": "volume-driver", "value": "nfs" },
                { "key": "volume", "value": "10.10.10.51/autoscaling/storage/application/%(username)s/%(app_name)s:/var/www" }
            ]
        }
    },
    "env": {
        "ENV_HOSTNAME": "%(env_hostname)s",
        "ENV_PORT": "%(env_port)s",
        "ENV_DB_HOSTNAME": "%(env_db_hostname)s",
        "ENV_DB_PORT": "%(env_db_port)s",
        "ENV_DB_NAME": "%(env_db_name)s",
        "ENV_DB_USERNAME": "%(env_db_username)s",
        "ENV_DB_PASSWORD": "%(env_db_password)s",
    },
    "labels": {
        "HAPROXY_GROUP": "external"
    }
}
